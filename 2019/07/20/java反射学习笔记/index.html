<!DOCTYPE html>
<html lang=zh>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="renderer" content="webkit">
  <meta http-equiv="Cache-Control" content="no-transform">
  <meta http-equiv="Cache-Control" content="no-siteapp">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="format-detection" content="telephone=no,email=no,adress=no">
  <!-- Color theme for statusbar -->
  <meta name="theme-color" content="#000000">
  <!-- 强制页面在当前窗口以独立页面显示,防止别人在框架里调用页面 -->
  <meta http-equiv="window-target" content="_top">
  
  
  <title>Java 反射(Reflection) 学习笔记 | NullOK</title>
  <meta name="description" content="一、反射概述JAVA反射机制是在运行状态中，对于任意一个类，都能够知道这个类的所有属性和方法；对于任意一个对象，都能够调用它的任意一个方法和属性；这种动态获取的信息以及动态调用对象的方法的功能称为java语言的反射机制。 (网图) 类加载过程：  二、Class类（包含完整的类的结构信息）Class对象由来：将class文件读入内存，并为之创建一个Class对象  Class 没有public 构">
<meta name="keywords" content="Java,笔记">
<meta property="og:type" content="article">
<meta property="og:title" content="Java 反射(Reflection) 学习笔记">
<meta property="og:url" content="http://www.nullok.com/2019/07/20/java反射学习笔记/index.html">
<meta property="og:site_name" content="NullOK - Blog">
<meta property="og:description" content="一、反射概述JAVA反射机制是在运行状态中，对于任意一个类，都能够知道这个类的所有属性和方法；对于任意一个对象，都能够调用它的任意一个方法和属性；这种动态获取的信息以及动态调用对象的方法的功能称为java语言的反射机制。 (网图) 类加载过程：  二、Class类（包含完整的类的结构信息）Class对象由来：将class文件读入内存，并为之创建一个Class对象  Class 没有public 构">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https://s2.ax1x.com/2019/07/20/eSPM6S.png">
<meta property="og:updated_time" content="2020-01-23T13:51:01.005Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Java 反射(Reflection) 学习笔记">
<meta name="twitter:description" content="一、反射概述JAVA反射机制是在运行状态中，对于任意一个类，都能够知道这个类的所有属性和方法；对于任意一个对象，都能够调用它的任意一个方法和属性；这种动态获取的信息以及动态调用对象的方法的功能称为java语言的反射机制。 (网图) 类加载过程：  二、Class类（包含完整的类的结构信息）Class对象由来：将class文件读入内存，并为之创建一个Class对象  Class 没有public 构">
<meta name="twitter:image" content="https://s2.ax1x.com/2019/07/20/eSPM6S.png">
  <!-- Canonical links -->
  <link rel="canonical" href="http://www.nullok.com/2019/07/20/java反射学习笔记/index.html">
  
    <link rel="alternate" href="/atom.xml" title="NullOK - Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png" type="image/x-icon">
  
  <link rel="stylesheet" href="/css/style.css">
  
  
  
  
</head>


<body class="main-center" itemscope itemtype="http://schema.org/WebPage">
  <header class="header" itemscope itemtype="http://schema.org/WPHeader">
  <div class="slimContent">
    <div class="navbar-header">
      
      
      <div class="profile-block text-center">
        <a id="avatar" href="https://github.com/nullok" target="_blank">
          <img class="img-circle img-rotate" src="/images/avatar.jpg" width="200" height="200">
        </a>
        <h2 id="name" class="hidden-xs hidden-sm">NullOk</h2>
        <h3 id="title" class="hidden-xs hidden-sm hidden-md">code &amp; code</h3>
        <small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i> Shandon, China</small>
      </div>
      
      <div class="search" id="search-form-wrap">

    <form class="search-form sidebar-form">
        <div class="input-group">
            <input type="text" class="search-form-input form-control" placeholder="搜索" />
            <span class="input-group-btn">
                <button type="submit" class="search-form-submit btn btn-flat" onclick="return false;"><i class="icon icon-search"></i></button>
            </span>
        </div>
    </form>
    <div class="ins-search">
  <div class="ins-search-mask"></div>
  <div class="ins-search-container">
    <div class="ins-input-wrapper">
      <input type="text" class="ins-search-input" placeholder="想要查找什么..." x-webkit-speech />
      <button type="button" class="close ins-close ins-selectable" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
    </div>
    <div class="ins-section-wrapper">
      <div class="ins-section-container"></div>
    </div>
  </div>
</div>


</div>
      <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </div>
    <nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation">
      <ul class="nav navbar-nav main-nav ">
        
        
        <li class="menu-item menu-item-home">
          <a href="/.">
            
            <i class="icon icon-home-fill"></i>
            
            <span class="menu-title">首页</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-archives">
          <a href="/archives">
            
            <i class="icon icon-archives-fill"></i>
            
            <span class="menu-title">归档</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-categories">
          <a href="/categories">
            
            <i class="icon icon-folder"></i>
            
            <span class="menu-title">分类</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-tags">
          <a href="/tags">
            
            <i class="icon icon-tags"></i>
            
            <span class="menu-title">标签</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-repository">
          <a href="/project">
            
            <i class="icon icon-project"></i>
            
            <span class="menu-title">项目</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-books">
          <a href="/about">
            
            <i class="icon icon-book-fill"></i>
            
            <span class="menu-title">书单</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-links">
          <a href="/about">
            
            <i class="icon icon-friendship"></i>
            
            <span class="menu-title">友链</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-about">
          <a href="/about">
            
            <i class="icon icon-cup-fill"></i>
            
            <span class="menu-title">关于</span>
          </a>
        </li>
        
      </ul>
      
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/nullok" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
        <li><a href="https://twitter.com/chinahankli" target="_blank" title="Twitter" data-toggle=tooltip data-placement=top><i class="icon icon-twitter"></i></a></li>
        
        <li><a href="https://www.facebook.com/chinalihan" target="_blank" title="Facebook" data-toggle=tooltip data-placement=top><i class="icon icon-facebook"></i></a></li>
        
        <li><a href="/atom.xml" target="_blank" title="Rss" data-toggle=tooltip data-placement=top><i class="icon icon-rss"></i></a></li>
        
    </ul>

    </nav>
  </div>
</header>

  
    <aside class="sidebar" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    
      <div class="widget">
    <h3 class="widget-title">公告</h3>
    <div class="widget-body">
        <div id="board">
            <div class="content">
                <p>欢迎交流与分享经验!</p><br/><p style="color:red;font-size:13px">鲁ICP备 19053315 号-2</p>
            </div>
        </div>
    </div>
</div>

    
      
  <div class="widget">
    <h3 class="widget-title">分类</h3>
    <div class="widget-body">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/JVM/">JVM</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Servlet/">Servlet</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Shiro/">Shiro</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/SpringBoot/">SpringBoot</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Struts2/">Struts2</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/docker/">docker</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/git/">git</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/工具/">工具</a><span class="category-list-count">1</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">标签</h3>
    <div class="widget-body">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Servlet/">-Servlet</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Struts2-Java/">-Struts2 -Java</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Docker/">Docker</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JVM/">JVM</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/">Java</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mybatis/">Mybatis</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Shiro/">Shiro</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SpringBoot/">SpringBoot</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Springboot/">Springboot</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Ubuntu/">Ubuntu</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/docker/">docker</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/工具/">工具</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/笔记/">笔记</a><span class="tag-list-count">3</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">标签云</h3>
    <div class="widget-body tagcloud">
      <a href="/tags/Servlet/" style="font-size: 13px;">-Servlet</a> <a href="/tags/Struts2-Java/" style="font-size: 13px;">-Struts2 -Java</a> <a href="/tags/Docker/" style="font-size: 13px;">Docker</a> <a href="/tags/JVM/" style="font-size: 13.5px;">JVM</a> <a href="/tags/Java/" style="font-size: 14px;">Java</a> <a href="/tags/Mybatis/" style="font-size: 13px;">Mybatis</a> <a href="/tags/Shiro/" style="font-size: 13.5px;">Shiro</a> <a href="/tags/SpringBoot/" style="font-size: 13px;">SpringBoot</a> <a href="/tags/Springboot/" style="font-size: 13px;">Springboot</a> <a href="/tags/Ubuntu/" style="font-size: 13px;">Ubuntu</a> <a href="/tags/docker/" style="font-size: 13.5px;">docker</a> <a href="/tags/git/" style="font-size: 13px;">git</a> <a href="/tags/工具/" style="font-size: 13px;">工具</a> <a href="/tags/笔记/" style="font-size: 14px;">笔记</a>
    </div>
  </div>

    
      
  <div class="widget">
    <h3 class="widget-title">归档</h3>
    <div class="widget-body">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">二月 2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">一月 2020</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">十月 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">七月 2019</a><span class="archive-list-count">5</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget-body">
      <ul class="recent-post-list list-unstyled no-thumbnail">
        
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/JVM/">JVM</a>
              </p>
              <p class="item-title">
                <a href="/2020/02/20/【JVM字节码指令逐步图解】4种常见i-与-i-的区别（下）/" class="title">【JVM字节码指令逐步图解】4种常见i++ 与 ++i 的区别（下）</a>
              </p>
              <p class="item-date">
                <time datetime="2020-02-20T08:03:11.000Z" itemprop="datePublished">2020-02-20</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/JVM/">JVM</a>
              </p>
              <p class="item-title">
                <a href="/2020/02/20/【JVM字节码指令逐步图解】4种常见i-与-i-的区别（上）/" class="title">【JVM字节码指令逐步图解】4种常见i++ 与 ++i 的区别（上）</a>
              </p>
              <p class="item-date">
                <time datetime="2020-02-20T08:01:38.000Z" itemprop="datePublished">2020-02-20</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                
              </p>
              <p class="item-title">
                <a href="/2020/02/04/docker-容器访问容器-解决方法/" class="title">docker 容器访问容器 解决方法</a>
              </p>
              <p class="item-date">
                <time datetime="2020-02-04T07:47:51.000Z" itemprop="datePublished">2020-02-04</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                
              </p>
              <p class="item-title">
                <a href="/2020/01/29/idea使用docker远程部署springboot/" class="title">idea使用docker远程部署springboot</a>
              </p>
              <p class="item-date">
                <time datetime="2020-01-29T08:29:38.000Z" itemprop="datePublished">2020-01-29</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/git/">git</a>
              </p>
              <p class="item-title">
                <a href="/2020/01/28/解决git无法忽略target办法/" class="title">解决git无法忽略target办法</a>
              </p>
              <p class="item-date">
                <time datetime="2020-01-28T05:11:47.000Z" itemprop="datePublished">2020-01-28</time>
              </p>
            </div>
          </li>
          
      </ul>
    </div>
  </div>
  

    
  </div>
</aside>

  
  
<main class="main" role="main">
  <div class="content">
  <article id="post-java反射学习笔记" class="article article-type-post" itemscope itemtype="http://schema.org/BlogPosting">
    
    <div class="article-header">
      
        
  
    <h1 class="article-title" itemprop="name">
      Java 反射(Reflection) 学习笔记
    </h1>
  

      
      <div class="article-meta">
        <span class="article-date">
    <i class="icon icon-calendar-check"></i>
	<a href="/2019/07/20/java反射学习笔记/" class="article-date">
	  <time datetime="2019-07-19T16:10:57.000Z" itemprop="datePublished">2019-07-20</time>
	</a>
</span>
        
  <span class="article-category">
    <i class="icon icon-folder"></i>
    <a class="article-category-link" href="/categories/Java/">Java</a>
  </span>

        
  <span class="article-tag">
    <i class="icon icon-tags"></i>
	<a class="article-tag-link" href="/tags/Java/">Java</a>, <a class="article-tag-link" href="/tags/笔记/">笔记</a>
  </span>


        

        <span class="post-comment"><i class="icon icon-comment"></i> <a href="/2019/07/20/java反射学习笔记/#comments" class="article-comment-link">评论</a></span>
        
      </div>
    </div>
    <div class="article-entry marked-body" itemprop="articleBody">
      
        <h2 id="一、反射概述"><a href="#一、反射概述" class="headerlink" title="一、反射概述"></a>一、反射概述</h2><p>JAVA反射机制是在运行状态中，对于任意一个类，都能够知道这个类的所有属性和方法；对于任意一个对象，都能够调用它的任意一个方法和属性；这种动态获取的信息以及动态调用对象的方法的功能称为java语言的反射机制。</p>
<p>(网图)</p>
<p><strong>类加载过程：</strong></p>
<p><img src="https://s2.ax1x.com/2019/07/20/eSPM6S.png" alt="类加载活成"></p>
<h2 id="二、Class类（包含完整的类的结构信息）"><a href="#二、Class类（包含完整的类的结构信息）" class="headerlink" title="二、Class类（包含完整的类的结构信息）"></a>二、Class类（包含完整的类的结构信息）</h2><p><strong>Class对象由来：</strong><font color="Blue">将class文件读入内存，并为之创建一个Class对象</font></p>
<ul>
<li><code>Class</code> 没有public 构造器。<code>Class</code> 对象是在加载类时由Java 虚拟机以及通过调用类加载器中的 <code>defineClass</code> 方法自动构造的，因此不能显式地声明一个<code>Class</code>对象。</li>
<li>每个类（型）都有一个<code>Class</code>对象</li>
<li>Java基本类型和<code>void</code>都对应一个Class对象</li>
<li>每个数组属于被映射为 <code>Class</code> 对象的一个类，所有具有相同元素类型和维数的数组都共享该 <code>Class</code> 对象。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//每个数组属于被映射为 `Class` 对象的一个类，所有具有相同元素类型和维数的数组都共享该 `Class` 对象</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo3</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        String[] str = <span class="keyword">new</span> String[<span class="number">3</span>];</span><br><span class="line">        String[] str2 = <span class="keyword">new</span> String[<span class="number">30</span>];</span><br><span class="line">        String[][] str3 = <span class="keyword">new</span> String[<span class="number">3</span>][];</span><br><span class="line">        <span class="keyword">int</span>[] in = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">3</span>];</span><br><span class="line">        <span class="keyword">int</span>[][] in2 = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">3</span>][];</span><br><span class="line">        System.out.println(<span class="string">"String一维数组:"</span>+str.getClass().hashCode());</span><br><span class="line">        System.out.println(<span class="string">"String一维数组（30）:"</span>+str2.getClass().hashCode());</span><br><span class="line">        System.out.println(<span class="string">"String二维数组:"</span>+str3.getClass().hashCode());</span><br><span class="line">        System.out.println(<span class="string">"int一维数组:"</span>+in.getClass().hashCode());</span><br><span class="line">        System.out.println(<span class="string">"int二维数组:"</span>+in2.getClass().hashCode());</span><br><span class="line">       </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> <span class="comment">/*output</span></span><br><span class="line"><span class="comment">   String一维数组:460141958</span></span><br><span class="line"><span class="comment">   String一维数组2:460141958</span></span><br><span class="line"><span class="comment">   String二维数组:1163157884</span></span><br><span class="line"><span class="comment">   int一维数组:1956725890</span></span><br><span class="line"><span class="comment">   int二维数组:356573597</span></span><br><span class="line"><span class="comment">  */</span></span><br></pre></td></tr></table></figure>

<h3 id="1-获取Class对象方法"><a href="#1-获取Class对象方法" class="headerlink" title="1.获取Class对象方法"></a>1.获取Class对象方法</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 调用getClass方法</span></span><br><span class="line">MyObject x;</span><br><span class="line">Class clazz = x.getClass();</span><br><span class="line"><span class="comment">//静态方法</span></span><br><span class="line">String path = <span class="string">"cn.ileehan.demo.User"</span></span><br><span class="line">Class clazz = Class.forName(path);</span><br><span class="line"><span class="comment">// .class</span></span><br><span class="line">Class clazz = <span class="keyword">int</span>.class;</span><br><span class="line">Class clazz1 = User.class;</span><br></pre></td></tr></table></figure>

<h3 id="2-Class类常用方法"><a href="#2-Class类常用方法" class="headerlink" title="2.Class类常用方法"></a>2.Class类常用方法</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">newInstance(); <span class="comment">// 创建实例，调用默认构造器</span></span><br><span class="line">getSuperclass(); <span class="comment">// 返回表示此 Class 所表示的实体（类、接口、基本类型或 void）的超类的 Class</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">每种管理类型都是独一无二的Class对象，因此可以使用==来比较类对象</span></span><br><span class="line"><span class="comment">if(e.getClass == Employee.class)....</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo4</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Demo4 d = <span class="keyword">new</span> Demo4();</span><br><span class="line">        <span class="keyword">if</span> (d.getClass() == Demo4.class)&#123;</span><br><span class="line">            System.out.println(<span class="keyword">true</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//output:true</span></span><br></pre></td></tr></table></figure>

<h2 id="二、反射机制的常见作用"><a href="#二、反射机制的常见作用" class="headerlink" title="二、反射机制的常见作用"></a>二、反射机制的常见作用</h2><p><strong>UserInfo.java</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ITable</span>(<span class="string">"t_talbe"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserInfo</span> </span>&#123;</span><br><span class="line">    <span class="meta">@IField</span>(name = <span class="string">"id"</span>,type = <span class="string">"int"</span>,length = <span class="number">6</span>)</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> id;</span><br><span class="line">    <span class="meta">@IField</span>(name = <span class="string">"name"</span>,type = <span class="string">"varchar"</span>,length = <span class="number">10</span>)</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="meta">@IField</span>(name = <span class="string">"age"</span>,type = <span class="string">"int"</span>,length = <span class="number">3</span>)</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">UserInfo</span><span class="params">(<span class="keyword">int</span> id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">UserInfo</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span><span class="params">(<span class="keyword">int</span> id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="1-动态加载类、动态获取类的信息（属性、方法、构造器）"><a href="#1-动态加载类、动态获取类的信息（属性、方法、构造器）" class="headerlink" title="1.动态加载类、动态获取类的信息（属性、方法、构造器）"></a>1.动态加载类、动态获取类的信息（属性、方法、构造器）</h3><p><strong>获取属性信息</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment"> * 获取成员变量并调用： </span></span><br><span class="line"><span class="comment"> *  </span></span><br><span class="line"><span class="comment"> * 1.批量的 </span></span><br><span class="line"><span class="comment"> *      1).Field[] getFields():获取所有的”公有字段” </span></span><br><span class="line"><span class="comment"> *      2).Field[] getDeclaredFields():获取所有字段，包括：私有、受保护、默认、公有； </span></span><br><span class="line"><span class="comment"> * 2.获取单个的： </span></span><br><span class="line"><span class="comment"> *      1).public Field getField(String fieldName):获取某个”公有的”字段； </span></span><br><span class="line"><span class="comment"> *      2).public Field getDeclaredField(String fieldName):获取某个字段(可以是私有的) </span></span><br><span class="line"><span class="comment"> *  </span></span><br><span class="line"><span class="comment"> *   设置字段的值： </span></span><br><span class="line"><span class="comment"> *      Field –&gt; public void set(Object obj,Object value): </span></span><br><span class="line"><span class="comment"> *                  参数说明： </span></span><br><span class="line"><span class="comment"> *                  1.obj:要设置的字段所在的对象； </span></span><br><span class="line"><span class="comment"> *                  2.value:要为字段设置的值； </span></span><br><span class="line"><span class="comment"> *  </span></span><br><span class="line"><span class="comment"> */</span>  </span><br><span class="line"><span class="comment">// 获取属性得到的是Field对象</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Dem</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// 动态加载类</span></span><br><span class="line">            Class clazz = Class.forName(<span class="string">"cn.ileehan.bean.UserInfo"</span>);</span><br><span class="line">            <span class="comment">// 获取属性信息</span></span><br><span class="line">            <span class="comment">// Field field = clazz.getField("id");  // 只能获取指定名称的公开属性信息</span></span><br><span class="line">            <span class="comment">// Field[] field = clazz.getFields();  // 获取所有公开属性的信息</span></span><br><span class="line">            </span><br><span class="line">            Field[] fields = clazz.getDeclaredFields(); <span class="comment">// 获取全部属性 包括公开与非公开</span></span><br><span class="line">            <span class="keyword">for</span> (Field temp : fields) &#123;</span><br><span class="line">                System.out.println(<span class="string">"属性："</span>+temp);</span><br><span class="line">            &#125;</span><br><span class="line">            Field f = clazz.getDeclaredField(<span class="string">"id"</span>); <span class="comment">// 获取指定属性 包括公开与非公开</span></span><br><span class="line">            System.out.println(<span class="string">"属性："</span>+f);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*output</span></span><br><span class="line"><span class="comment">属性：private int cn.ileehan.bean.UserInfo.id</span></span><br><span class="line"><span class="comment">属性：private java.lang.String cn.ileehan.bean.UserInfo.name</span></span><br><span class="line"><span class="comment">属性：private int cn.ileehan.bean.UserInfo.age</span></span><br><span class="line"><span class="comment">属性：private int cn.ileehan.bean.UserInfo.id</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p><strong>获取方法信息</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment"> * 获取成员方法并调用： </span></span><br><span class="line"><span class="comment"> *  </span></span><br><span class="line"><span class="comment"> * 1.批量的： </span></span><br><span class="line"><span class="comment"> *      public Method[] getMethods():获取所有”公有方法”；（包含了父类的方法也包含Object类） </span></span><br><span class="line"><span class="comment"> *      public Method[] getDeclaredMethods():获取所有的成员方法，包括私有的(不包括继承的) </span></span><br><span class="line"><span class="comment"> * 2.获取单个的： </span></span><br><span class="line"><span class="comment"> *      public Method getMethod(String name,Class&lt;?&gt;… parameterTypes): </span></span><br><span class="line"><span class="comment"> *                  参数： </span></span><br><span class="line"><span class="comment"> *                      name : 方法名； </span></span><br><span class="line"><span class="comment"> *                      Class … : 形参的Class类型对象 </span></span><br><span class="line"><span class="comment"> *      public Method getDeclaredMethod(String name,Class&lt;?&gt;… parameterTypes) </span></span><br><span class="line"><span class="comment"> *  </span></span><br><span class="line"><span class="comment"> *   调用方法： </span></span><br><span class="line"><span class="comment"> *      Method –&gt; public Object invoke(Object obj,Object… args): </span></span><br><span class="line"><span class="comment"> *                  参数说明： </span></span><br><span class="line"><span class="comment"> *                  obj : 要调用方法的对象； </span></span><br><span class="line"><span class="comment"> *                  args:调用方式时所传递的实参； </span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment">): </span></span><br><span class="line"><span class="comment"> */</span>  </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Dem</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// 动态加载类</span></span><br><span class="line">            Class clazz = Class.forName(<span class="string">"cn.ileehan.bean.UserInfo"</span>);</span><br><span class="line">  </span><br><span class="line">            </span><br><span class="line">            <span class="comment">/*</span></span><br><span class="line"><span class="comment">            *只能获取公开方法，包括该类 继承 或者实现的接口</span></span><br><span class="line"><span class="comment">            Method[] method = clazz.getMethods(); // 返回所有方法</span></span><br><span class="line"><span class="comment">            for (Method temp : method) &#123;</span></span><br><span class="line"><span class="comment">                System.out.println("方法："+temp);</span></span><br><span class="line"><span class="comment">            &#125;</span></span><br><span class="line"><span class="comment">            Method m = clazz.getMethod("setId",int.class);// 获取指定方法</span></span><br><span class="line"><span class="comment">            */</span></span><br><span class="line">            </span><br><span class="line">            <span class="comment">// all</span></span><br><span class="line">            Method[] methods = clazz.getDeclaredMethods(); <span class="comment">// 获取该类的所有方法</span></span><br><span class="line">            <span class="keyword">for</span> (Method temp : methods) &#123;</span><br><span class="line">                System.out.println(<span class="string">"方法："</span>+temp);</span><br><span class="line">            &#125;</span><br><span class="line">            Method m1 = clazz.getDeclaredMethod(<span class="string">"getName"</span>); <span class="comment">// 获取无参方法</span></span><br><span class="line">            System.out.println(<span class="string">"方法："</span>+m1);</span><br><span class="line">            Method m2 = clazz.getDeclaredMethod(<span class="string">"setId"</span>,<span class="keyword">int</span>.class); <span class="comment">// 获取有参方法</span></span><br><span class="line">            System.out.println(<span class="string">"方法："</span>+m2);</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*output</span></span><br><span class="line"><span class="comment">方法：private java.lang.String cn.ileehan.bean.UserInfo.getName()</span></span><br><span class="line"><span class="comment">方法：public int cn.ileehan.bean.UserInfo.getId()</span></span><br><span class="line"><span class="comment">方法：public void cn.ileehan.bean.UserInfo.setName(java.lang.String)</span></span><br><span class="line"><span class="comment">方法：public int cn.ileehan.bean.UserInfo.getAge()</span></span><br><span class="line"><span class="comment">方法：public void cn.ileehan.bean.UserInfo.setAge(int)</span></span><br><span class="line"><span class="comment">方法：public void cn.ileehan.bean.UserInfo.setId(int)</span></span><br><span class="line"><span class="comment">方法：private java.lang.String cn.ileehan.bean.UserInfo.getName()</span></span><br><span class="line"><span class="comment">方法：public void cn.ileehan.bean.UserInfo.setId(int)</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p><strong>获取构造器信息</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment"> * 通过Class对象可以获取某个类中的：构造方法、成员变量、成员方法；并访问成员； </span></span><br><span class="line"><span class="comment"> *  </span></span><br><span class="line"><span class="comment"> * 1.获取构造方法： </span></span><br><span class="line"><span class="comment"> *      1).批量的方法： </span></span><br><span class="line"><span class="comment"> *          public Constructor[] getConstructors()：所有”公有的”构造方法 </span></span><br><span class="line"><span class="comment">            public Constructor[] getDeclaredConstructors()：获取所有的构造方法(包括私有、受保护、默认、公有) </span></span><br><span class="line"><span class="comment">      </span></span><br><span class="line"><span class="comment"> *      2).获取单个的方法，并调用： </span></span><br><span class="line"><span class="comment"> *          public Constructor getConstructor(Class… parameterTypes):获取单个的”公有的”构造方法： </span></span><br><span class="line"><span class="comment"> *          public Constructor getDeclaredConstructor(Class… parameterTypes):获取”某个构造方法”可以是私有的，或受保护、默认、公有； </span></span><br><span class="line"><span class="comment"> *       </span></span><br><span class="line"><span class="comment"> *          调用构造方法： </span></span><br><span class="line"><span class="comment"> *          Constructor–&gt;newInstance(Object… initargs) </span></span><br><span class="line"><span class="comment"> */</span>  </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Dem</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// 动态加载类</span></span><br><span class="line">            Class clazz = Class.forName(<span class="string">"cn.ileehan.bean.UserInfo"</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 获取构造器信息</span></span><br><span class="line">            <span class="comment">/*</span></span><br><span class="line"><span class="comment">            必须是公开的</span></span><br><span class="line"><span class="comment">            Constructor[] constructor = clazz.getConstructors(); // 获取所有公开构造器</span></span><br><span class="line"><span class="comment">            for (Constructor temp : constructor) &#123;</span></span><br><span class="line"><span class="comment">                System.out.println("构造器："+temp);</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">            &#125;</span></span><br><span class="line"><span class="comment">            Constructor c = clazz.getConstructor(int.class); // 获取指定构造器传参数类型的类</span></span><br><span class="line"><span class="comment">            System.out.println("构造器："+c);</span></span><br><span class="line"><span class="comment">            */</span></span><br><span class="line">            <span class="comment">// 获取所有的构造器 公开与非公开</span></span><br><span class="line">            Constructor[] constructors = clazz.getDeclaredConstructors();<span class="comment">//获取所有构造器</span></span><br><span class="line">            <span class="keyword">for</span> (Constructor temp : constructors) &#123;</span><br><span class="line">                System.out.println(<span class="string">"构造器："</span>+temp);</span><br><span class="line">            &#125;</span><br><span class="line">            Constructor c = clazz.getDeclaredConstructor(<span class="keyword">int</span>.class);<span class="comment">//获取指定参数类型的构造器</span></span><br><span class="line">            System.out.println(<span class="string">"构造器："</span>+c);</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*output</span></span><br><span class="line"><span class="comment">构造器：public cn.ileehan.bean.UserInfo(int)</span></span><br><span class="line"><span class="comment">构造器：public cn.ileehan.bean.UserInfo()</span></span><br><span class="line"><span class="comment">构造器：public cn.ileehan.bean.UserInfo(int)</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h3 id="2-动态使用（属性、方法、构造器）"><a href="#2-动态使用（属性、方法、构造器）" class="headerlink" title="2.动态使用（属性、方法、构造器）"></a>2.动态使用（属性、方法、构造器）</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo2</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        String path = <span class="string">"cn.ileehan.bean.UserInfo"</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Class&lt;UserInfo&gt; clazz = (Class&lt;UserInfo&gt;) Class.forName(path);</span><br><span class="line">            <span class="comment">// 通过反射API调用构造器，构造对象</span></span><br><span class="line">            UserInfo u = clazz.newInstance(); <span class="comment">// 实际上调用了UserInfo的无参构造方法</span></span><br><span class="line">            System.out.println(u);</span><br><span class="line">            </span><br><span class="line">            <span class="comment">//指定参数类型</span></span><br><span class="line">            Constructor&lt;UserInfo&gt; constructor = clazz.getDeclaredConstructor(<span class="keyword">int</span>.class);</span><br><span class="line">            UserInfo us = constructor.newInstance(<span class="number">12</span>);<span class="comment">//实例化的时候要按照构造器要求传值</span></span><br><span class="line">            System.out.println(us.getId());</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 通过反射API调用方法</span></span><br><span class="line">            UserInfo u2 = clazz.newInstance();</span><br><span class="line">            Method m = clazz.getDeclaredMethod(<span class="string">"setName"</span>, String.class);</span><br><span class="line">            m.invoke(u2,<span class="string">"李四"</span>); <span class="comment">// 激活此方法 参数1-》哪里的方法 参数2-》按照方法的形参来</span></span><br><span class="line">            System.out.println(u2.getName());</span><br><span class="line">            <span class="comment">// 通过反射API操作属性</span></span><br><span class="line">            UserInfo u3 = clazz.newInstance();</span><br><span class="line">            Field f = clazz.getDeclaredField(<span class="string">"age"</span>);</span><br><span class="line">            f.setAccessible(<span class="keyword">true</span>); <span class="comment">// 允许操作private 不用做安全检查了，可以直接访问</span></span><br><span class="line">            f.set(u3,<span class="number">123</span>); <span class="comment">// 通过反射直接写属性</span></span><br><span class="line">            System.out.println(u3.getAge()); <span class="comment">// 通过反射直接读属性的值</span></span><br><span class="line">            System.out.println(f.get(u3));</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-反射main方法"><a href="#3-反射main方法" class="headerlink" title="3.反射main方法"></a>3.反射main方法</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo2</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        String path = <span class="string">"cn.ileehan.bean.UserInfo"</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//获取UserInfo对象字节码</span></span><br><span class="line">            Class&lt;UserInfo&gt; clazz = (Class&lt;UserInfo&gt;) Class.forName(path);</span><br><span class="line">            <span class="comment">//获取main方法</span></span><br><span class="line">            Method methodMain = clazz.getMethod(<span class="string">"main"</span>,String[].class);</span><br><span class="line">            <span class="comment">//调用main方法</span></span><br><span class="line">            methodMain.invoke(<span class="keyword">null</span>, (Object)<span class="keyword">new</span> String[]&#123;<span class="string">"a"</span>,<span class="string">"b"</span>,<span class="string">"c"</span>&#125;);</span><br><span class="line">           <span class="comment">/*</span></span><br><span class="line"><span class="comment">           必须要加上(Object)</span></span><br><span class="line"><span class="comment">           否则编译器会编译成</span></span><br><span class="line"><span class="comment">            methodMain.invoke(null, "a","b","c");</span></span><br><span class="line"><span class="comment">           */</span></span><br><span class="line">            </span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-反射注解"><a href="#4-反射注解" class="headerlink" title="4.反射注解"></a>4.反射注解</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//获取UserInfo的class对象</span></span><br><span class="line">            Class cl = Class.forName(<span class="string">"cn.ileehan.bean.UserInfo"</span>);</span><br><span class="line">            <span class="comment">// 获得类的所有注解</span></span><br><span class="line">            Annotation[] annotations = cl.getAnnotations();</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">for</span> (Annotation a : annotations) &#123;</span><br><span class="line">                System.out.println(a);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 获得类的指定注解</span></span><br><span class="line">            ITable table = (ITable) cl.getAnnotation(ITable.class); <span class="comment">// 转成注解类型</span></span><br><span class="line">            System.out.println(table.value());</span><br><span class="line">            <span class="comment">// 获得类的属性的注解</span></span><br><span class="line">            Field na = cl.getDeclaredField(<span class="string">"name"</span>); <span class="comment">// 通过反射获取指定属性</span></span><br><span class="line">            IField ie = na.getAnnotation(IField.class);</span><br><span class="line">            System.out.println(ie.name()+<span class="string">"---"</span>+ie.type()+<span class="string">"---"</span>+ie.length());</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*output</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">@cn.ileehan.annotation.ITable(value=t_talbe)</span></span><br><span class="line"><span class="comment">t_talbe</span></span><br><span class="line"><span class="comment">name---varchar---10</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h3 id="5-通过反射越过泛型检查"><a href="#5-通过反射越过泛型检查" class="headerlink" title="5.通过反射越过泛型检查"></a>5.通过反射越过泛型检查</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 想Sting泛型的集合，添加Integer类型的值</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo</span> </span>&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;  </span><br><span class="line">        ArrayList&lt;String&gt; strList = <span class="keyword">new</span> ArrayList&lt;&gt;();  </span><br><span class="line">        strList.add(<span class="string">"aaa"</span>);  </span><br><span class="line">        strList.add(<span class="string">"bbb"</span>);  </span><br><span class="line">          </span><br><span class="line">    	<span class="comment">// strList.add(100);  </span></span><br><span class="line">        <span class="comment">//获取ArrayList的Class对象，反向的调用add()方法，添加数据  </span></span><br><span class="line">        Class listClass = strList.getClass(); <span class="comment">//得到 strList 对象的字节码 对象  </span></span><br><span class="line">        <span class="comment">//获取add()方法  </span></span><br><span class="line">        Method m = listClass.getMethod(<span class="string">"add"</span>, Object.class);  </span><br><span class="line">        <span class="comment">//调用add()方法  </span></span><br><span class="line">        m.invoke(strList, <span class="number">100</span>);  </span><br><span class="line">          </span><br><span class="line">        <span class="comment">//遍历集合  </span></span><br><span class="line">        <span class="keyword">for</span>(Object obj : strList)&#123;  </span><br><span class="line">            System.out.println(obj);  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="comment">/*output</span></span><br><span class="line"><span class="comment">aaa</span></span><br><span class="line"><span class="comment">bbb</span></span><br><span class="line"><span class="comment">100</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p>参考文章：<a href="https://blog.csdn.net/lwl20140904/article/details/80163880" target="_blank" rel="noopener">java反射（特别通俗易懂）</a></p>

      
    </div>
    <div class="article-footer">
      <blockquote class="mt-2x">
  <ul class="post-copyright list-unstyled">
    
    <li class="post-copyright-link hidden-xs">
      <strong>本文链接：</strong>
      <a href="http://www.nullok.com/2019/07/20/java反射学习笔记/" title="Java 反射(Reflection) 学习笔记" target="_blank" rel="external">http://www.nullok.com/2019/07/20/java反射学习笔记/</a>
    </li>
    
    <li class="post-copyright-license">
      <strong>版权声明： </strong> 本博客所有文章除特别声明外，均采用 <a href="http://creativecommons.org/licenses/by/4.0/deed.zh" target="_blank" rel="external">CC BY 4.0 CN协议</a> 许可协议。转载请注明出处！
    </li>
  </ul>
</blockquote>


<div class="panel panel-default panel-badger">
  <div class="panel-body">
    <figure class="media">
      <div class="media-left">
        <a href="https://github.com/nullok" target="_blank" class="img-burn thumb-sm visible-lg">
          <img src="/images/avatar.jpg" class="img-rounded w-full" alt="">
        </a>
      </div>
      <div class="media-body">
        <h3 class="media-heading"><a href="https://github.com/nullok" target="_blank"><span class="text-dark">NullOk</span><small class="ml-1x">code &amp; code</small></a></h3>
        <div>多敲代码，别比比</div>
      </div>
    </figure>
  </div>
</div>


    </div>
  </article>
  
    
  <section id="comments">
  	
      <div id="vcomments"></div>
    
  </section>


  
</div>

  <nav class="bar bar-footer clearfix" data-stick-bottom>
  <div class="bar-inner">
  
  <ul class="pager pull-left">
    
    <li class="prev">
      <a href="/2019/07/20/MyEclipse2017破解方法/" title="MyEclipse2017破解方法"><i class="icon icon-angle-left" aria-hidden="true"></i><span>&nbsp;&nbsp;上一篇</span></a>
    </li>
    
    
    <li class="next">
      <a href="/2019/07/19/java注解学习笔记/" title="Java 注解 学习笔记"><span>下一篇&nbsp;&nbsp;</span><i class="icon icon-angle-right" aria-hidden="true"></i></a>
    </li>
    
    
  </ul>
  
  
  <!-- Button trigger modal -->
  <button type="button" class="btn btn-fancy btn-donate pop-onhover bg-gradient-warning" data-toggle="modal" data-target="#donateModal"><span>赏</span></button>
  <!-- <div class="wave-icon wave-icon-danger btn-donate" data-toggle="modal" data-target="#donateModal">
    <div class="wave-circle"><span class="icon"><i class="icon icon-bill"></i></span></div>
  </div> -->
  
  
  <div class="bar-right">
    
    <div class="share-component" data-sites="weibo,qq,wechat,facebook,twitter" data-mobile-sites="weibo,qq,qzone"></div>
    
  </div>
  </div>
</nav>
  
<!-- Modal -->
<div class="modal modal-center modal-small modal-xs-full fade" id="donateModal" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content donate">
      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
      <div class="modal-body">
        <div class="donate-box">
          <div class="donate-head">
            <p>感谢您的支持，我会继续努力的!</p>
          </div>
          <div class="tab-content">
            <div role="tabpanel" class="tab-pane fade active in" id="alipay">
              <div class="donate-payimg">
                <img src="/images/donate/alipayimg.png" alt="扫码支持" title="扫一扫" />
              </div>
              <p class="text-muted mv">扫码打赏，你说多少就多少</p>
              <p class="text-grey">打开支付宝扫一扫，即可进行扫码打赏哦</p>
            </div>
            <div role="tabpanel" class="tab-pane fade" id="wechatpay">
              <div class="donate-payimg">
                <img src="/images/donate/wechatpayimg.png" alt="扫码支持" title="扫一扫" />
              </div>
              <p class="text-muted mv">扫码打赏，你说多少就多少</p>
              <p class="text-grey">打开微信扫一扫，即可进行扫码打赏哦</p>
            </div>
          </div>
          <div class="donate-footer">
            <ul class="nav nav-tabs nav-justified" role="tablist">
              <li role="presentation" class="active">
                <a href="#alipay" id="alipay-tab" role="tab" data-toggle="tab" aria-controls="alipay" aria-expanded="true"><i class="icon icon-alipay"></i> 支付宝</a>
              </li>
              <li role="presentation" class="">
                <a href="#wechatpay" role="tab" id="wechatpay-tab" data-toggle="tab" aria-controls="wechatpay" aria-expanded="false"><i class="icon icon-wepay"></i> 微信支付</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>



</main>

  <footer class="footer" itemscope itemtype="http://schema.org/WPFooter">
	
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/nullok" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
        <li><a href="https://twitter.com/chinahankli" target="_blank" title="Twitter" data-toggle=tooltip data-placement=top><i class="icon icon-twitter"></i></a></li>
        
        <li><a href="https://www.facebook.com/chinalihan" target="_blank" title="Facebook" data-toggle=tooltip data-placement=top><i class="icon icon-facebook"></i></a></li>
        
        <li><a href="/atom.xml" target="_blank" title="Rss" data-toggle=tooltip data-placement=top><i class="icon icon-rss"></i></a></li>
        
    </ul>

    <div class="copyright">
    	
        &copy; 2020 nullok
        
        <div class="publishby">
        	Theme by <a href="https://github.com/cofess" target="_blank"> cofess </a>base on <a href="https://github.com/cofess/hexo-theme-pure" target="_blank">pure</a>.
        </div>
    </div>
</footer>
  <script src="//cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script>
<script>
window.jQuery || document.write('<script src="js/jquery.min.js"><\/script>')
</script>
<script src="/js/plugin.min.js"></script>
<script src="/js/application.js"></script>

    <script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
            UNTITLED: '(未命名)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>





   




   
    
  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/valine"></script>
  <script type="text/javascript">
  var GUEST = ['nick', 'mail', 'link'];
  var meta = 'nick,mail,link';
  meta = meta.split(',').filter(function(item) {
    return GUEST.indexOf(item) > -1;
  });
  new Valine({
    el: '#vcomments',
    verify: false,
    notify: false,
    appId: '',
    appKey: '',
    placeholder: 'Just go go',
    avatar: 'mm',
    meta: meta,
    pageSize: '10' || 10,
    visitor: false
  });
  </script>

     







</body>
</html>